![[Pasted image 20231112175924.png]]![[Pasted image 20231112175951.png]]
Signals are software interrupts.
Primitive form of interprocess communication(IPC).

POSIX standardized signal handling.

This chapter will discuss use and <u>misuse</u>, manage and manipulate signals.

# Signal Concepts
a signal is raised(sent),stored by kernel, which perform one of three actions, depending on process asked kernel to do. 
*Ignore the signal*
+ exception: SIGKILL and SIGSTOP
*Catch and handle the signal*
+ example:SIGINT..user generating interrupt char.
+ SIGTERM..processes catch SIGTERM to perform necessary cleanup, such like disconnect from network, removing temporary files.
+ SIGKILL, SIGSTOP can't be caught.
*Perform the default action*
+ default action is oftern terminate the proccess.(SIGKILL is)
Nowadays, signals can pass user-defined data.
## Signal Identifiers
- defined in <signal.h>, they are positive integers(integer identifier)
- First dozen or so signals are usually same(SIGKILL is infamously signal 9)

- There is no signal with the value 0, nonetheless, which has a name null signal.
- some system calls(e.g. kill()) user a value of 0.
> `kill -l` to list signals.

| Signal  | Description                                      | Default Action           |
|---------|--------------------------------------------------|--------------------------|
| SIGABRT | Sent by abort()                                  | Terminate with core dump |
| SIGALRM | Sent by alarm()                                  | Terminate                |
| SIGBUS  | Hardware or alignment error                      | Terminate with core dump |
| SIGCHLD | Child has terminated                             | Ignored                  |
| SIGCONT | Process has continued after being stopped        | Ignored                  |
| SIGFPE  | Arithmetic exception                             | Terminate with core dump |
| SIGHUP  | Processâ€™s controlling terminal was closed        | Terminate                |
| SIGILL  | Process tried to execute an illegal instruction  | Terminate with core dump |
| SIGINT  | User generated the interrupt character (Ctrl-C)  | Terminate                |
| SIGIO   | Asynchronous I/O event                           | Terminate                |
| SIGKILL | Uncatchable process termination                  | Terminate                |
| SIGPIPE | Process wrote to a pipe but there are no readers | Terminate                |
| SIGPROF | Profiling timer expired                          | Terminate                |
| SIGPWR  | Power failure                                    | Terminate                |
| SIGQUIT | User generated the quit character (Ctrl-)        | Terminate with core dump |
| SIGSEGV   | Memory access violation                                           | Terminate with core dump |
| SIGSTKFLT | Coprocessor stack fault                                           | Terminate                |
| SIGSTOP   | Suspends execution of the process                                 | Stop                     |
| SIGSYS    | Process tried to execute an invalid system call                   | Terminate with core dump |
| SIGTERM   | Catchable process termination                                     | Terminate                |
| SIGTRAP   | Breakpoint encountered                                            | Terminate with core dump |
| SIGTSTP   | User generated the suspend character (Ctrl-Z)                     | Stop                     |
| SIGTTIN   | Background process read from controlling terminal                 | Stop                     |
| SIGTTOU   | Background process wrote to controlling terminal                  | Stop                     |
| SIGURG    | Urgent I/O pending                                                | Ignored                  |
| SIGUSR1   | Process-defined signal                                            | Terminate                |
| SIGUSR2   | Process-defined signal                                            | Terminate                |
| SIGVTALRM | Generated by setitimer() when called with the ITIMER_VIRTUAL flag | Terminate                |
| SIGWINCH  | Size of controlling terminal window changed                       | Ignored                  |
| SIGXCPU   | Processor resource limits were exceeded                           | Terminate with core dump |
| SIGXFSZ   | File resource limits were exceeded                                | Terminate with core dump |

SIGINFO is SIGPWR, SIGIOT is SIGABRT, SIGPOLL,SIGLOST are SIGIO.
SIGABRT:
- func abort() sends this signal.The process terminates and gen core file. In Linux, assert() call abort().
SIGALRM:
- alarm() and setitimer()(with ITIMER_REAL flag) send the signal to the process that invoked them when an alarm expires. See [[Chapter 11]].
SIGBUS:
- The kernel raises the signal when process incurs a hardware fault(except, memory protection gens a SIGSEGV.
-  On Unix Systems, it represented various errors.
-  The Linux kernel fixs most of these errors, automatically.
	-  However, the kernel does raise when improperly access memory created via mmap(). See [[Chapter 9]]
SIGCHLD:
- When process terminates or stops, the kernel sends the signal to the parent. By default, it is ignored. A handler for the signal generally calls wait(). See [[Chapter 5]].
SIGCONT:
- Kernel -> Process when the process is resumed. By default, it is ignored. Commonly used by terminals or editors to refresh the screen.
SIGFPE:
- Arithmetic exception(e.g. floating-point, overflows, underflows, div-by-zero). Behavior of  process and the result of the offending operation are undefined if it continue.
SIGHUP:
- Kernel -> session leader when the session's terminal disconnects.
- Kernel -> each process in the fg process group when the session's leader terminates.
- Default action is terminate since SIGHUP suggests user logged out.
- Daemon processes "overload" the signal to reload config files.
	- (e.g.)SIGHUP -> Apache will reread *httpd.conf.*
	- The practice is safe, bc daemons don't have controlling terminals and should never normally receive the signal[^1]
SIGILL:
- Kernel sends when a process attempt illegal machine instruction.
SIGINT:
- send to all processes in the fg process group when the user interrupt character(usually \<C-C\>)
SIGIO:
- is sent when a BSD-style asynchronous I/O event is gened. Rare I/O on Linux. See [[Chapter 4]] for advanced I/O tech common to Linux)
SIGKILL:
- is sent from the kill() system call; unconditional kill. can't be caught or ignored. always terminate.
SIGPIPE:
- kernel raises if a process writes to a pipe but the reader has terminated.
SIGPROF:
- setitimer() func with ITIMER_PROF flag gens the signal when profiling timer expres.
SIGPWR:
- On Linux, represents a low-battery condition. UPS monitering daemon sends the signal to *init*.
SIGQUIT:
- 



[^1]: no idea.